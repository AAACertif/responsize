var d=this;function f(a,b){var c=a.split("."),e=d;c[0]in e||!e.execScript||e.execScript("var "+c[0]);for(var k;c.length&&(k=c.shift());)c.length||void 0===b?e=e[k]?e[k]:e[k]={}:e[k]=b};function h(){this.J=window.ce.api.CloudExplorer.get("ce-js")}f("FileService",h);h.prototype.open=function(){var a=this;return new Promise(function(b,c){a.J.pick(function(a){console.log("my Blob: "+JSON.stringify(a));b(a)},function(b){console.log("error "+JSON.stringify(b));c(b)})})};h.prototype.open=h.prototype.open;function l(a){this.element=a;this.b=a.getElementsByTagName("iframe")[0];this.height=this.width=1;this.s=!0;window.addEventListener("resize",this.c.bind(this))}f("Stage",l);l.prototype.G=function(a,b){this.s=!1;this.width=a;this.height=b;this.c()};l.prototype.setSize=l.prototype.G;
l.prototype.t=function(){for(var a=null,b=null,c=null,e=null,k=this.b.contentDocument.querySelectorAll("*"),p=0;p<k.length;p++){var g=k[p];if(null===a||g.offsetLeft<a)a=g.offsetLeft;if(null===c||g.offsetTop<c)c=g.offsetTop;g.offsetLeft+g.offsetWidth>b&&(b=g.offsetLeft+g.offsetWidth);g.offsetTop+g.offsetHeight>e&&(e=g.offsetTop+g.offsetHeight)}return{V:b-a,O:e-c}};l.prototype.getContentSize=l.prototype.t;
l.prototype.c=function(){if(this.s){var a=this.t();this.width=a.V;this.height=a.O}this.b.style.width=this.width+"px";this.b.style.height=this.height+"px";var a=this.element.offsetWidth,b=this.element.offsetHeight,c=Math.min(1,a/this.width,b/this.height);this.b.style.transform="scale("+c+")";this.b.style.transformOrigin="0 0";b=(b-this.height*c)/2;this.b.style.left=(a-this.width*c)/2+"px";this.b.style.top=b+"px"};l.prototype.redraw=l.prototype.c;
l.prototype.H=function(a){var b=this;return new Promise(function(c,e){b.b.onload=function(){return c(b.b.contentDocument)};b.b.onerror=function(b){return e(b)};b.b.src=a;b.c()})};l.prototype.setUrl=l.prototype.H;l.prototype.S=function(a){var b=this;return new Promise(function(c,e){b.b.onload=function(){b.b.onload=c(b.b.contentDocument);b.b.src="";b.b.contentDocument.write(a);b.c()};b.b.onerror=function(b){return e(b)};b.b.src="about:blank"})};l.prototype.setHtml=l.prototype.S;f("Device",{X:0,Y:1,Z:2,$:3,W:4});var m=[{name:"mobile",width:320,height:480},{name:"mobile-h",width:476,height:320},{name:"tablet",width:768,height:1024},{name:"tablet-h",width:1024,height:768},{name:"desktop",width:1280,height:800}];f("DeviceData",m);
function n(a){var b=this;this.element=a;this.element.querySelector(".open");this.R=this.element.querySelector(".save");this.selection=[];this.n=this.C=this.m=null;this.element.addEventListener("click",function(a){var e=a.target;e.classList.contains("open")&&b.m&&b.m();e.classList.contains("save")?(b.R.classList.add("off"),b.C&&b.C()):e.classList.contains("mobile")?b.d(0):e.classList.contains("mobile-h")?b.d(1):e.classList.contains("tablet")?b.d(2):e.classList.contains("desktop")&&b.d(4);a.preventDefault();
return!1})}f("Toolbar",n);n.prototype.d=function(a){for(var b=this.element.querySelectorAll(".selected"),c=0;c<b.length;c++)b.item(c).classList.remove("selected");this.element.querySelector("."+m[a].name).classList.add("selected");this.n&&this.n(m[a].width,m[a].height)};n.prototype.setDevice=n.prototype.d;n.prototype.o=function(a){this.selection=a;this.c()};n.prototype.setSelection=n.prototype.o;n.prototype.c=function(){};n.prototype.redraw=n.prototype.c;function q(){this.j=this.i=this.k=!1;this.g=this.f=this.a=this.r=null;this.v=this.P.bind(this);this.A=this.B.bind(this);this.w=this.Q.bind(this);this.D=this.B.bind(this)}f("Wysiwyg",q);q.prototype.T=function(a){return this.f=a};q.prototype.setOnSelect=q.prototype.T;q.prototype.L=function(){return this.f};q.prototype.getOnSelect=q.prototype.L;q.prototype.U=function(a){return this.g=a};q.prototype.setSelectFilter=q.prototype.U;q.prototype.M=function(){return this.g};q.prototype.getSelectFilter=q.prototype.M;
q.prototype.q=function(a){this.r=a;if(this.a){var b=this.a.querySelector("#rsz-stylesheet");a?(b||(b=document.createElement("link"),b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),b.setAttribute("id","rsz-stylesheet"),this.a.firstChild?this.a.insertBefore(b,this.a.firstChild):this.a.appendChild(b)),b.setAttribute("href",a)):b&&this.a.removeChild(b)}};q.prototype.setStyleUrl=q.prototype.q;q.prototype.N=function(){return this.r};q.prototype.getStyleUrl=q.prototype.N;
q.prototype.F=function(a){if(this.a){this.a.removeEventListener("mousedown",this.v);this.a.removeEventListener("mouseup",this.A);this.a.removeEventListener("mousemove",this.w);for(var b=a.ownerDocument.getElementsByTagName("a"),c=0;c<b.length;c++)b[c].removeEventListener("click",this.D)}this.a=a;this.p(this.k);this.a.addEventListener("mouseup",this.A,!0);this.a.addEventListener("mousedown",this.v);this.a.addEventListener("mousemove",this.w);a=a.ownerDocument.getElementsByTagName("a");for(b=0;b<a.length;b++)a[b].addEventListener("click",
this.D);this.i=!1;this.q(this.r)};q.prototype.setContainer=q.prototype.F;q.prototype.p=function(a){this.k=a;this.a&&(a?this.a.classList.add("rsz-select-mode"):this.a.classList.remove("rsz-select-mode"))};q.prototype.setSelectionMode=q.prototype.p;q.prototype.h=function(a){for(var b=a;b&&this.g&&!this.g(b);)b=b.parentNode;return b||a};q.prototype.getBestElement=q.prototype.h;q.prototype.B=function(a){r(this,this.h(a.target),a.shiftKey);a.preventDefault();return!1};
q.prototype.P=function(a){this.h(a.target);this.i=!0;a.preventDefault();return!1};q.prototype.Q=function(a){var b=this.h(a.target);if(this.k)if(this.i)this.j||(this.j=!0);else{for(var c=this.a.querySelectorAll(".rsz-select-candidate"),e=0;e<c.length;e++)c[e].classList.remove("rsz-select-candidate");this.a.classList.remove("rsz-select-candidate");b.classList.add("rsz-select-candidate")}a.preventDefault();return!1};
function r(a,b,c){a.i=!1;a.k&&(a.j?a.j=!1:(c||a.l().forEach(function(a){a!=b&&a.classList.contains("rsz-selected")&&a.classList.remove("rsz-selected")}),a.select(b)))}q.prototype.l=function(){for(var a=this.a.querySelectorAll(".rsz-selected"),b=[],c=0;c<a.length;c++)b.push(a[c]);this.a.classList.contains(".rsz-selected")&&b.push(this.a);return b};q.prototype.getSelected=q.prototype.l;
q.prototype.select=function(a,b){a.classList.contains("rsz-selected")||(a.classList.add("rsz-selected"),!1!==b&&this.f&&this.f())};function s(a){var b=this;this.toolbar=new n(a.querySelector("#toolbar"));this.I=new l(a.querySelector("#stage"));this.e=new q;this.K=new h;this.toolbar.n=function(a,e){return b.I.G(a,e)};this.toolbar.m=function(){return b.K.open().then(function(a){return t(b,a)})};this.e.g=function(a){return b.u(a)};this.e.f=function(){return b.toolbar.o(b.e.l())};this.e.p(!0);this.e.q(window.location.href+"/iframe.css");this.toolbar.d(4)}
s.prototype.u=function(a){var b=0,c;for(c in a.parentNode.childNodes)1===a.parentNode.childNodes[c].nodeType&&b++;return 1<b};f("App.prototype.hasSiblings",s.prototype.u);function t(a,b){a.I.H(b.url).then(function(b){a.e.F(b.body);a.toolbar.o([])})};window.initResponsizeApp=function(){for(var a=new s(document.getElementById("rsz-app")),b=document.location.search,b=b.split("+").join(" "),c={},e,k=/[?&]?([^=]+)=([^&]*)/g;e=k.exec(b);)c[decodeURIComponent(e[1])]=decodeURIComponent(e[2]);c.url&&t(a,{url:c.url})};
/*
//@ sourceMappingURL=responsize.js.map
*/